# 标注功能使用指南

## 功能概述

Gemini Timeline Assistant 现在支持标注功能，让您可以将重要的问题标注并置顶显示，方便在同一URI的对话中快速找到关键问题。

## 主要功能

### 1. 问题标注
- 在时间线中每个问题左侧都有一个星标按钮（☆）
- 点击星标按钮可以标注/取消标注问题
- 已标注的问题会显示实心星标（★）并变为金色

### 2. 置顶显示
- 标注的问题会自动置顶显示在时间线顶部
- 标注问题有特殊的金色背景和边框
- 标注问题在问题编号前会显示⭐图标

### 3. 标注过滤
- 点击时间线标题栏的⭐按钮可以只显示标注的问题
- 再次点击可以返回显示所有问题
- 问题计数会显示当前页面的标注数量

### 4. 跨页面访问
- 标注数据会自动保存到浏览器存储
- 当您访问同一个Gemini对话URI时，会自动加载之前标注的问题
- 页面加载时如果有标注问题，会显示金色通知提示

## 使用方法

### 标注问题
1. 在Gemini对话页面中，时间线会自动显示在右侧
2. 找到您想要标注的问题
3. 点击问题左侧的星标按钮（☆）
4. 按钮会变为实心星标（★）并变为金色，表示标注成功

### 查看标注问题
1. 标注的问题会自动置顶显示
2. 点击时间线标题栏的⭐按钮可以只显示标注问题
3. 标注问题有特殊的金色背景，易于识别

### 跨页面使用
1. 在一个Gemini对话中标注问题后
2. 当您重新访问同一个对话URI时
3. 系统会自动加载之前的标注
4. 页面右上角会显示通知，告诉您有多少个标注问题

## 视觉标识

- **未标注问题**: 灰色空心星标（☆）
- **已标注问题**: 金色实心星标（★）
- **标注问题背景**: 金色渐变背景
- **标注问题前缀**: ⭐ 图标
- **通知提示**: 金色渐变通知框

## 技术特点

- 数据持久化：使用Chrome扩展的storage.sync API
- 跨页面同步：基于URL的pathname和search参数匹配
- 智能去重：避免重复标注相同内容的问题
- 实时更新：标注状态立即反映在界面上
- 自动过期：标注数据将在7天后自动清理，保持存储整洁
- 智能问题识别：优先识别完整问题容器，避免长问题被拆分

## 注意事项

- 标注数据会同步到您的Chrome账户
- 只有相同的Gemini对话URL才会加载对应的标注
- 标注功能不会影响原有的时间线和搜索功能
- 标注数据将在7天后自动过期清理，无需手动管理
- 搜索框下方会显示"⭐ 标注问题将在7天后自动清理"的提示
- 长问题现在会被正确识别为单个问题，不再被拆分成多个条目

## 快捷操作

- **快速标注**: 直接点击星标按钮
- **批量查看**: 点击标题栏⭐按钮过滤显示
- **快速跳转**: 点击通知直接显示标注问题
- **搜索标注**: 在搜索框中输入内容也会搜索标注问题
